(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7a5e"],{AtTH:function(e,t,a){"use strict";var l=a("dAeT");a.n(l).a},dAeT:function(e,t,a){},g9Sr:function(e,t,a){"use strict";a.r(t);var l=a("P2sY"),r=a.n(l),o=a("t3Un"),n="/ccb-shop/admin/api/";var i={data:function(){return{tableData:[],currentPage:1,total:0,loading:!1,pageSize:this.$store.state["page-size"],create:{visible:!1,form:{client:0,type:0,pos:0,path:"",content:"",status:0,weight:0}},formConfigs:{client:[],type:[],pos:[],status:[]}}},mounted:function(){var e=this;Object(o.a)({url:n+"ads/configs",method:"get"}).then(function(t){e.formConfigs=t.data}),this.getAdList()},methods:{handleEdit:function(e,t){},handleDelete:function(e,t){},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.pageSize=e,this.getAdList()},handleCurrentChange:function(e){console.log("当前页: "+e),this.currentPage=e,this.getAdList()},handleCreateClick:function(){this.create.form.client=this.formConfigs.client[0].value,this.create.form.type=this.formConfigs.type[0].value,this.create.form.pos=this.formConfigs.pos[0].value,this.create.form.status=this.formConfigs.status[0].value,this.create.visible=!0},getAdList:function(){var e=this,t=r()({page:this.currentPage,limit:this.pageSize});return this.loading=!0,function(e){return Object(o.a)({url:n+"ads",params:e,method:"get"})}(t).then(function(t){e.tableData=t.data.data,e.total=t.data.total}).finally(function(){e.loading=!1})},resetForm:function(e){this.$refs[e].resetFields()},handleCreateForm:function(){var e=this;(function(e){return Object(o.a)({url:n+"ads",method:"post",data:e})})(this.create.form).then(function(t){e.getAdList(),e.create.visible=!1,e.resetForm("create.form")})}}},s=(a("AtTH"),a("KHd+")),c=Object(s.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.handleCreateClick}},[e._v("添加广告")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,border:"","empty-text":"没有数据"}},[a("el-table-column",{attrs:{prop:"client_readable",label:"终端",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type_readable",label:"类型",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pos_readable",label:"位置"}}),e._v(" "),a("el-table-column",{attrs:{prop:"path",label:"路径"}}),e._v(" "),a("el-table-column",{attrs:{prop:"content",label:"内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status_readable",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"weight",label:"排序"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-row",[a("el-col",[e._v("\n       \n    ")])],1),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{"current-page":e.currentPage,"page-sizes":e.$store.state["page-sizes"],"page-size":e.pageSize,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{visible:e.create.visible,title:"添加广告"},on:{"update:visible":function(t){e.$set(e.create,"visible",t)}}},[a("el-form",{ref:"create.form",attrs:{model:e.create.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"终端",prop:"client"}},[a("el-radio-group",{model:{value:e.create.form.client,callback:function(t){e.$set(e.create.form,"client",t)},expression:"create.form.client"}},e._l(e.formConfigs.client,function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-radio-group",{model:{value:e.create.form.type,callback:function(t){e.$set(e.create.form,"type",t)},expression:"create.form.type"}},e._l(e.formConfigs.type,function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"位置",prop:"pos"}},[a("el-radio-group",{model:{value:e.create.form.pos,callback:function(t){e.$set(e.create.form,"pos",t)},expression:"create.form.pos"}},e._l(e.formConfigs.pos,function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"路径",prop:"path"}},[a("el-input",{model:{value:e.create.form.path,callback:function(t){e.$set(e.create.form,"path",t)},expression:"create.form.path"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("el-input",{model:{value:e.create.form.content,callback:function(t){e.$set(e.create.form,"content",t)},expression:"create.form.content"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio-group",{model:{value:e.create.form.status,callback:function(t){e.$set(e.create.form,"status",t)},expression:"create.form.status"}},e._l(e.formConfigs.status,function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"weight"}},[a("el-input",{model:{value:e.create.form.weight,callback:function(t){e.$set(e.create.form,"weight",t)},expression:"create.form.weight"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.create.visible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleCreateForm}},[e._v("确 定")])],1)],1)],1)},[],!1,null,"cfcec24e",null);c.options.__file="index.vue";t.default=c.exports}}]);